# 多智能体强化学习训练平台项目

## 项目概述
本项目是一个多智能体强化学习训练平台，基于Python 3.8环境开发，使用了PyQt5构建用户界面，结合Matplotlib进行可视化展示，采用PyTorch进行深度学习模型的训练和推理，同时支持使用TensorBoard进行训练过程的监控和分析。该平台提供了多种强化学习算法（如Q-learning、PPO、MASAC、MAPPO等）和不同复杂度的地图环境（简单地图、中等地图、复杂地图），方便用户进行多智能体强化学习的实验和研究。

## 环境要求
- **操作系统**：支持Windows操作系统。
- **Python版本**：Python 3.8
- **依赖库**：具体依赖库列表请参考`requirements.txt`文件，主要包括：
  - `PyQt5`：用于构建用户界面。
  - `matplotlib`：用于数据可视化。
  - `torch`：深度学习框架，用于模型训练和推理。
  - `tensorboard`：用于训练过程的监控和分析。
  - `gym`：OpenAI的强化学习环境接口。

## 安装步骤
### 1. 创建并激活Conda虚拟环境
```bash
# 创建名为marl_env的虚拟环境，指定Python版本为3.8
conda create -n marl_env python=3.8

# 激活虚拟环境
conda activate marl_env
```

### 2. 安装依赖库
```bash
# 克隆项目代码到本地
git clone <项目仓库地址>
cd <项目目录>

# 安装项目所需的依赖库
pip install -r requirements.txt
```

## 项目结构
```
marl/
├── main.py              # 主程序入口，包含主窗口和界面初始化代码
├── constants.py         # 定义项目中使用的常量
├── mapcanvas.py         # 地图画布类，用于绘制地图、障碍物、目标点、飞机等元素
├── evaluation_thread.py # 评估线程类，用于对训练好的模型进行评估
├── training_thread.py   # 训练线程类，用于模型的训练
├── algorithms/          # 强化学习算法实现目录
│   ├── MASAC/           # MASAC算法实现
│   │   └── MASAC.py
│   └── QLearning_net/   # 连续Q-learning算法实现
│       └── ContinuousQLearning.py
├── aircraft_env.py      # 飞机环境类，定义了多智能体强化学习的环境
└── requirements.txt     # 项目依赖库列表
```

## 使用方法
### 1. 运行项目
```bash
# 在激活的虚拟环境中运行主程序
python marl/main.py
```

### 2. 界面操作
- **算法选择**：在“选择算法”下拉框中选择要使用的强化学习算法，支持的算法包括Q-learning、Q-learning-net、PPO、MASAC、MAPPO等。
- **地图选择**：在“选择地图”下拉框中选择要使用的地图环境，包括简单地图、中等地图、复杂地图。
- **智能体数量设置**：在“智能体设置”中设置智能体的数量，范围为1 - 16。
- **训练参数设置**：
  - **是否渲染**：选择是否在训练过程中进行地图渲染。
  - **训练回合数**：设置训练的回合数，可选择50、100、200、500、1000。
- **开始训练**：点击“开始训练”按钮，开始模型的训练过程。训练过程中可以通过界面实时查看智能体的状态和训练进度。
- **停止训练**：点击“停止训练”按钮，停止当前的训练过程。~~~~

### 3. 模型评估
在训练完成后，可以使用评估线程对训练好的模型进行评估，评估结果将在控制台输出。

## 注意事项
- 请确保在运行项目前已经正确安装了所有依赖库，并且激活了相应的Conda虚拟环境。
- 项目中使用的图片资源（如飞机图片、目标点图片、背景图片等）需要确保路径正确，否则可能会导致图片无法正常显示。
- 在训练过程中，可能会占用较多的系统资源，请确保你的计算机具备足够的性能。
